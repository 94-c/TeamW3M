<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="myPageDAO">
	<select id="myPageList" resultType="com.spring.w3m.inquiry.user.vo.InquiryVO">
		select
			*
		from
			inquiry
		where
			inq_email = #{user_email}
		order by inq_date desc
	</select>
	<select id="myPageListcnt" resultType="int">
		select
			count(*)
		from
			inquiry
		where
			inq_email = #{user_email}
	</select>
	
	<select id="myUser" resultType="com.spring.w3m.join.user.vo.UserVO">
		select 
			*
		from
			user_member
		where
			user_seq = #{user_seq}
	</select>
	
	<select id="myReviewList" resultType="com.spring.w3m.review.user.vo.ReviewVO">
		select
			*
		from
			review
		where
			review_email = #{user_email}
		order by review_date desc
	</select>
	<select id="myReviewListcnt" resultType="int">
		select
			count(*)
		from
			review
		where
			review_email = #{user_email}
	</select>
	
	<select id="myOrderList" resultType="OrderVO">
		SELECT o.order_date, d.prod_title, p.pay_total_money FROM pay as p, order_list as o , delivery as d
		WHERE o.order_seq = p.order_seq AND o.order_seq = d.order_seq AND o.user_id = #{user_id}
	</select>	
	
</mapper>