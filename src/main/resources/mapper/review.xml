<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
 <mapper namespace="ReviewDAO">
 
  <!-- 후기 보기 -->
	<select id="getReviewList" resultMap="reviewResult">
	select * from review order by review_seq desc
	</select>
	
	<resultMap type="ReviewVO" id="reviewResult">
		<id property="review_seq " column="review_seq " />
		<result property="user_id" column="user_id"/>
		<result property="prod_url" column="prod_url"/>
		<result property="user_name" column="user_name"/>
		<result property="review_pass" column="review_pass"/>
		<result property="review_title" column="review_title"/>
		<result property="review_content" column="review_content"/>
		<result property="review_image" column="review_image"/>
		<result property="review_date" column="review_date"/>
		<result property="review_cnt" column="review_cnt"/>
	</resultMap>
 
  <!-- 후기 작성 -->
	<insert id="insertReview" parameterType="ReviewVO">
		INSERT INTO review (prod_code, user_id, prod_url, user_name, review_pass, review_seq, review_title, review_content, review_image, review_date, review_cnt)
		VALUES(#{prod_code}, #{user_id}, #{user_name}, #{review_pass}, nextval('review_seq'), #{review_title}, #{review_content}, #{review_date}, #{review_cnt}) 
	</insert>
	
</mapper>